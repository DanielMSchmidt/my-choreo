query steps($id: Int!, $prefix: String!) {
  choreo(where: { id: { _eq: $id }, public_id_prefix: { _eq: $prefix } }) {
    name
    steps {
      comment
      timing
    }
    tags {
      color
      content
      timing_end
      timing_start
      title
      type
    }
  }
}

mutation addStep($choreoId: Int!, $timing: numeric!) {
  insert_step(objects: { choreo_id: $choreoId, timing: $timing }) {
    affected_rows
  }
}

mutation addFigure(
  $choreoId: Int!
  $timing_start: numeric!
  $timing_end: numeric!
  $title: String!
  $content: String!
  $color: String!
) {
  insert_tag(
    objects: {
      content: $content
      color: $color
      choreo_id: $choreoId
      title: $title
      type: "Figure"
      timing_start: $timing_start
      timing_end: $timing_end
    }
  ) {
    affected_rows
  }
}
